var SH={info:{page:"",pageArgs:[],domain:"",holdingDomain:"",lastPage:""},refOpenFunc:function(){return!1},pages:{home:[],pagenotfound:[]},loadPage:function(b,a){"undefined"==typeof a&&(a="");SH.info.page=b;SH.info.pageArgs=a;SH.refOpenFunc(b,a);return!1},history:{}};SH.history.currentPage;SH.history.currentPageArgs=[];SH.history.stop=!1;SH.history.open=function(b){SH.history.pushState?window.history.pushState("",b,"/"+b):document.location.hash="#!/"+b};
SH.history.manage=function(){var b=function(){"undefined"!==typeof SH.pages[a]?("undefined"!==typeof SH.pages[a][0]&&"undefined"!==typeof SH.pages[a][0].sub?"undefined"!==typeof SH.pages[a][0].sub[d]?(SH.info.page=a+"_"+d,SH.loadPage(a+"_"+d,e)):"undefined"!==typeof SH.pages[a]?SH.loadPage(a,e):SH.history.open("pagenotfound"):SH.loadPage(a,e),SH.info.lastPage=SH.history.currentPage,SH.history.currentPage=a):SH.history.open("pagenotfound")};if(!0==SH.history.pushState&&"#!/"!==document.location.hash.substr(0,
3)){var a=window.location.pathname,c="";"/"==a.substr(0,1)&&(a=a.substr(1));c=a.split(":")[0];if(null!==a&&""!==a&&"/"!==a){"undefined"!==a.split(":")[1]&&(SH.history.currentPageArgs=[],SH.history.currentPageArgs.push(a.split(":")[1]));var a=a.split(":")[0],d=a.split("/")[1],e=a.split("/"),a=a.split("/")[0];c!==SH.info.pageArgs.join("/")&&b()}else SH.info.page="home",SH.history.open("home")}else{c=document.location.hash;if(!0==SH.history.pushState)return SH.history.open(c.substr(3)),!1;1<c.length&&
"/"==window.location.pathname?"#!/"==c.substr(0,3)&&(c=c.substr(3).split("#")[0],"undefined"!==c.split(":")[1]&&(SH.history.currentPageArgs=[],SH.history.currentPageArgs.push(c.split(":")[1])),c=c.split(":")[0],d=c.split("/")[1],c=c.split("/")[0],e=document.location.hash.substr(3).split("/"),document.location.hash.substr(3)!==SH.info.pageArgs.join("/")&&b()):"/"!==window.location.pathname?(SH.history.stop=!0,window.location.assign("/#!/"+window.location.pathname.substr(1))):(SH.info.page="home",SH.history.open("home"))}};
SH.history.patrol=function(b){SH.history.manage();setInterval(function(){!1==SH.history.stop&&SH.history.manage()},200);b(!0)};SH.init=function(b,a){"undefined"==typeof a&&(a=!0);SH.history.pushState=!1;history.pushState&&!0==a&&(SH.history.pushState=!0);"undefined"==typeof b?console.log("Simpler History: You must declare the main handler as the first argument of SH.init."):(SH.refOpenFunc=b,SH.history.patrol(function(a){!0==a&&console.log("Simpler History Initialized...")}))};
var openPage=function(b){console.log("do some logic for the page: "+b);return!1};SH.init(openPage,!0);